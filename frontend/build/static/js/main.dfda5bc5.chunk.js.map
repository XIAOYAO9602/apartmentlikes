{"version":3,"sources":["shared/context/auth-context.js","shared/components/UIElements/Backdrop.js","shared/components/UIElements/LoadingSpinner.js","shared/components/Navigation/MainHeader.js","shared/components/Navigation/NavLinks.js","shared/components/Navigation/SideDrawer.js","shared/components/Navigation/MainNavigation.js","App.js","shared/hooks/auth-hook.js","index.js"],"names":["AuthContext","createContext","isLoggedIn","login","logout","Backdrop","props","ReactDOM","createPortal","className","onClick","document","getElementById","LoadingSpinner","asOverlay","MainHeader","children","NavLinks","auth","useContext","to","exact","SideDrawer","content","CSSTransition","in","show","timeout","classNames","mountOnEnter","unmountOnExit","MainNavigation","useState","drawerIsOpen","setDrawerIsOpen","closeDrawerHandler","Fragment","Auth","React","lazy","Places","Dashboard","MyPlaces","App","routes","user","setUser","useCallback","data","a","fetch","process","method","mode","credentials","useEffect","then","res","json","_user","useAuth","console","log","path","Provider","value","fallback","render"],"mappings":"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","file":"static/js/main.dfda5bc5.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const AuthContext = createContext({\n  isLoggedIn: false,\n  login: () => {},\n  logout: () => {}\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById('backdrop-hook')\n  );\n};\n\nexport default Backdrop;\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import React from 'react';\n\nimport './MainHeader.css';\n\nconst MainHeader = props => {\n\treturn <header className=\"main-header\">{props.children}</header>;\n};\n\nexport default MainHeader;\n","import React, { useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport { AuthContext } from '../../context/auth-context';\nimport './NavLinks.css';\n\nconst NavLinks = props => {\n\tconst auth = useContext(AuthContext);\n\n\treturn (\n\t\t<ul className=\"nav-links\">\n\t\t\t<li>\n\t\t\t\t<NavLink to=\"/\" exact>\n\t\t\t\t\tDASHBOARD\n\t\t\t\t</NavLink>\n\t\t\t</li>\n\t\t\t{auth.isLoggedIn && (\n\t\t\t\t<li>\n\t\t\t\t\t<NavLink to={`/myplaces`}>MY PLACES</NavLink>\n\t\t\t\t</li>\n\t\t\t)}\n\t\t\t{auth.isLoggedIn && (\n\t\t\t\t<li>\n\t\t\t\t\t<NavLink to={`/places`}>PLACES</NavLink>\n\t\t\t\t</li>\n\t\t\t)}\n\t\t\t{!auth.isLoggedIn && (\n\t\t\t\t<li>\n\t\t\t\t\t<NavLink to=\"/auth\">LOGIN</NavLink>\n\t\t\t\t</li>\n\t\t\t)}\n\t\t\t{auth.isLoggedIn && (\n\t\t\t\t<li>\n\t\t\t\t\t<button onClick={auth.logout}>LOGOUT</button>\n\t\t\t\t</li>\n\t\t\t)}\n\t\t</ul>\n\t);\n};\n\nexport default NavLinks;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './SideDrawer.css';\n\nconst SideDrawer = props => {\n\tconst content = (\n\t\t<CSSTransition \n\t\t\tin={props.show} \n\t\t\ttimeout={200} \n\t\t\tclassNames=\"slide-in-left\" \n\t\t\tmountOnEnter \n\t\t\tunmountOnExit\n\t\t>\n\t\t\t<aside className=\"side-drawer\" onClick={props.onClick}>{props.children}</aside>\n\t\t</CSSTransition>\n\t);\n\n\treturn ReactDOM.createPortal(content, document.getElementById('drawer-hook'));\n};\n\nexport default SideDrawer;\n","import React, {useState} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport MainHeader from './MainHeader';\nimport NavLinks from './NavLinks';\nimport SideDrawer from './SideDrawer';\nimport Backdrop from '../UIElements/Backdrop';\n\nimport './MainNavigation.css';\n\n\nconst MainNavigation = props => {\n\tconst [drawerIsOpen, setDrawerIsOpen] = useState(false);\n\n\tconst openDrawerHandler = () => {\n\t\tsetDrawerIsOpen(true);\n\t};\n\n\tconst closeDrawerHandler = () => {\n\t\tsetDrawerIsOpen(false);\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{drawerIsOpen && <Backdrop onClick={closeDrawerHandler} />}\n\t\t\t<SideDrawer show={drawerIsOpen} onClick={closeDrawerHandler}>\n\t\t\t\t<nav className=\"main-navigation__drawer-nav\">\n\t\t\t\t\t<NavLinks />\n\t\t\t\t</nav>\n\t\t\t</SideDrawer>\n\t\t\n\t\t\t<MainHeader>\n\t\t\t\t<button \n\t\t\t\tclassName=\"main-navigation__menu-btn\" \n\t\t\t\tonClick={openDrawerHandler}\n\t\t\t\t>\n\t\t\t\t\t<span />\n\t\t\t\t\t<span />\n\t\t\t\t\t<span />\n\t\t\t\t</button>\n\t\t\t\t<h1 className=\"main-navigation__\">\n\t\t\t\t\t<Link to=\"/\">Apartment Likes </Link>\n\t\t\t\t</h1>\n\t\t\t\t<nav className=\"main-navigation__header-nav\">\n\t\t\t\t  <NavLinks />\n\t\t\t\t</nav>\n\t\t\t</MainHeader>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default MainNavigation;","import React, { Suspense } from 'react';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport MainNavigation from './shared/components/Navigation/MainNavigation';\nimport { AuthContext } from './shared/context/auth-context';\nimport { useAuth } from './shared/hooks/auth-hook';\nimport LoadingSpinner from './shared/components/UIElements/LoadingSpinner';\n\nconst Auth = React.lazy(() => import('./user/pages/Auth'));\nconst Places = React.lazy(() => import('./places/pages/Places'));\nconst Dashboard = React.lazy(() => import('./dash/pages/Dashboard'));\nconst MyPlaces = React.lazy(() => import('./myplaces/pages/MyPlaces'));\n\nconst App = () => {\n\tconst { user, login, logout } = useAuth();\n\n\tlet routes;\n\tconsole.log(\"App\", user);\n\tif (user) {\n\t\troutes = (\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t<Dashboard />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/places\" exact>\n\t\t\t\t\t<Places />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/myplaces\" exact>\n\t\t\t\t\t<MyPlaces />\n\t\t\t\t</Route>\n\t\t\t\t<Redirect to=\"/\" />\n\t\t\t</Switch>\n\t\t);\n\t} else {\n\t\troutes = (\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t<Dashboard />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/auth\">\n\t\t\t\t\t<Auth />\n\t\t\t\t</Route>\n\t\t\t\t<Redirect to=\"/auth\" />\n\t\t\t</Switch>\n\t\t);\n\t}\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ \n\t\t\t\tisLoggedIn: user,\n\t\t\t\tlogin: login, \n\t\t\t\tlogout: logout \n\t\t\t}}\n\t\t>\n\t\t\t<Router>\n\t\t\t\t<MainNavigation />\n\t\t\t\t<main>\n\t\t\t\t\t<Suspense \n\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t<div className=\"center\">\n\t\t\t\t\t\t\t\t<LoadingSpinner />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{routes}\n\t\t\t\t\t</Suspense>\n\t\t\t\t</main>\n\t\t\t</Router>\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport default App;\n","import { useState, useCallback, useEffect } from 'react';\n\nexport const useAuth = () => {\n\tconst [user, setUser] = useState(null);\n\n\tconst login = useCallback((data) => {\n\t\tif (!data || !data.user) {\n\t\t\treturn;\n\t\t}\n\t\tsetUser(data.user);\n\t}, []);\n\n\tconst logout = useCallback(async () => {\n\t\tawait fetch(`${process.env.REACT_APP_BACKEND_URL}/logout`, {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"cors\",\n\t\t\tcredentials: \"include\"\n\t\t});\n\t\tsetUser(null);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tfetch(`${process.env.REACT_APP_BACKEND_URL}/user`, {\n\t\t\tmode: \"cors\",\n\t\t\tcredentials: \"include\",\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(_user => {\n\t\t\tsetUser(_user.user);\n\t\t});\n\t}, []);\n\n\treturn { login, logout, user };\n};\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}